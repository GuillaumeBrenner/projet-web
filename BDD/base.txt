CREATE TABLE Personne(
   id_p INT,
   Nom VARCHAR(50),
   Prenom VARCHAR(50),
   PRIMARY KEY(id_p)
);

CREATE TABLE Entreprise(
   id_e INT,
   nom VARCHAR(50) NOT NULL,
   photo_profil VARCHAR(50),
   PRIMARY KEY(id_e)
);

CREATE TABLE ville(
   id_ville INT,
   ville VARCHAR(50),
   PRIMARY KEY(id_ville)
);

CREATE TABLE type_compte(
   id_type INT,
   type VARCHAR(50),
   PRIMARY KEY(id_type)
);

CREATE TABLE Secteur_d_activité(
   id_sec INT,
   secteur VARCHAR(50),
   PRIMARY KEY(id_sec)
);

CREATE TABLE Promotion(
   id_promo INT,
   nom_promo VARCHAR(50),
   PRIMARY KEY(id_promo)
);

CREATE TABLE compte(
   id_c INT,
   login VARCHAR(50),
   photo_profil VARCHAR(50),
   mdp VARCHAR(50),
   id_promo INT,
   id_ville INT,
   id_e INT,
   id_p INT NOT NULL,
   id_type INT NOT NULL,
   PRIMARY KEY(id_c),
   UNIQUE(login),
   FOREIGN KEY(id_promo) REFERENCES Promotion(id_promo),
   FOREIGN KEY(id_ville) REFERENCES ville(id_ville),
   FOREIGN KEY(id_e) REFERENCES Entreprise(id_e),
   FOREIGN KEY(id_p) REFERENCES Personne(id_p),
   FOREIGN KEY(id_type) REFERENCES type_compte(id_type)
);

CREATE TABLE Site(
   id_site INT,
   id_ville INT NOT NULL,
   id_e INT NOT NULL,
   PRIMARY KEY(id_site),
   FOREIGN KEY(id_ville) REFERENCES ville(id_ville),
   FOREIGN KEY(id_e) REFERENCES Entreprise(id_e)
);

CREATE TABLE Offre(
   id_offre INT,
   Titre VARCHAR(50),
   Compétences TEXT,
   Durée VARCHAR(50),
   Date_post DATE,
   nombre_places SMALLINT,
   Remuneration FLOAT,
   id_site INT NOT NULL,
   PRIMARY KEY(id_offre),
   FOREIGN KEY(id_site) REFERENCES Site(id_site)
);

CREATE TABLE postule(
   id_c INT,
   id_offre INT,
   cv TEXT,
   ldm TEXT,
   PRIMARY KEY(id_c, id_offre),
   FOREIGN KEY(id_c) REFERENCES compte(id_c),
   FOREIGN KEY(id_offre) REFERENCES Offre(id_offre)
);

CREATE TABLE WishList(
   id_c INT,
   id_offre INT,
   PRIMARY KEY(id_c, id_offre),
   FOREIGN KEY(id_c) REFERENCES compte(id_c),
   FOREIGN KEY(id_offre) REFERENCES Offre(id_offre)
);

CREATE TABLE avoir(
   id_e INT,
   id_sec INT,
   PRIMARY KEY(id_e, id_sec),
   FOREIGN KEY(id_e) REFERENCES Entreprise(id_e),
   FOREIGN KEY(id_sec) REFERENCES Secteur_d_activité(id_sec)
);

CREATE TABLE evalue(
   id_c INT,
   id_e INT,
   note INT,
   commentaire TEXT,
   PRIMARY KEY(id_c, id_e),
   FOREIGN KEY(id_c) REFERENCES compte(id_c),
   FOREIGN KEY(id_e) REFERENCES Entreprise(id_e)
);

CREATE TABLE accepter(
   id_c INT,
   id_offre INT,
   PRIMARY KEY(id_c, id_offre),
   FOREIGN KEY(id_c) REFERENCES compte(id_c),
   FOREIGN KEY(id_offre) REFERENCES Offre(id_offre)
);
